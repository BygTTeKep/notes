Количество транзакций ограничено что может привести к тому что мы не сможем обработать наш запрос
Одна долгая транзакция будет блокировать другие транзакции

# Transactional Outbox Pattern

Transactional Outbox Pattern - это архитектурный патерн, используемый в распределенных системах для обеспечения надежной доставки сообщений.

## Пример

Когда приложение получает запрос на создание заказа, оно открывает транзакцию в бд, в которую сохраняет заказ. Внутри транзакции создается сообщение для другого сервиса, оно сохраняется в бд в специальную таблицу outbox. После чего транзакция фиксируется

Далее в отдельном процессе происходит периодический опрос новых записей из этой таблицы.

Этот процесс забирает данные из таблицы и начинает их обработку

Таблица outbox обычно состоит из

```
CREATE TABLE outbox (
    id SERIAL PRIMARY KEY,
    payload JSONB,
    status VARCHAR(255)
)
```
